{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/daniel.lavrentiev/Desktop/screen-react-test/screen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/daniel.lavrentiev/Desktop/screen-react-test/screen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/daniel.lavrentiev/Desktop/screen-react-test/screen/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useCallback,useRef}from'react';import{motion,AnimateSharedLayout,AnimatePresence}from\"framer-motion\";import'./App.css';// import homes from './dataClean';\n// import houseData from './dataClean'\nimport finalFetch from'./dataClean';// import finalFetch from './dataClean';\n// let homes = await import ('./dataClean.js');\nimport axios from'axios';import fetch from'node-fetch';// let {PythonShell} = require('python-shell');\n// let options = {\n//   scriptPath: 'C:/Users/daniel.lavrentiev/Dropbox/Screen Project/Scraper',\n//   pythonOptions: ['-u']\n// }\n// function handleRefresh () {\n//   PythonShell.run('test_cleaner.py', options, function (err, results) {\n//     if (err) throw err;\n//     console.log('results: &j', results);\n//   });\n// }\n// function ResetButton (props) {\n//   return (\n//     <button className='refresh'>Refresh</button>\n//   )\n// }\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var updater=function updater(){};function TitleSection(props){var hex=props.color;return/*#__PURE__*/_jsxs(motion.div,{className:\"title-section\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"color-square\",style:{backgroundColor:hex}}),/*#__PURE__*/_jsx(motion.div,{className:\"title\",children:props.streetAddress})]});}function PillSection(props){// This code looks like shit, but don't screw with it\nvar pillList=[props.company,props.modelNumber,props.subdivisionAndPhase,props.lotNumber,props.city,props.projectManager,props.listingAgent,props.jobType];var ref=useRef();// Don't not use useRef, using literally anything else will break this component\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOverflowed=_useState2[0],setIsOverflowed=_useState2[1];var _useState3=useState(pillList),_useState4=_slicedToArray(_useState3,2),testList=_useState4[0],setTestList=_useState4[1];var filtered=testList.filter(function(pill,index){return index<testList.length-1;});useEffect(function(){if(ref.current.clientWidth<ref.current.scrollWidth){setIsOverflowed(true);}else{setIsOverflowed(false);}},[ref,isOverflowed]);useEffect(function(){return!isOverflowed?handleFilter:setIsOverflowed(false);},[isOverflowed]// I have no idea why this works but don't touch it\n);var handleOverflowRender=function handleOverflowRender(list){var overFlowVal=pillList.length-list.length;if(list.length<pillList.length){return/*#__PURE__*/_jsxs(motion.li,{className:\"infopill-expand\",children:[\"+\",overFlowVal]});}else{}};var handleFilter=function handleFilter(){var filtered=testList.filter(function(pill,index){return index<testList.length-1;});setTestList(filtered);};return/*#__PURE__*/_jsxs(motion.ul,{ref:ref,className:props.expandClass,children:[testList.map(function(pill,i){return/*#__PURE__*/_jsx(motion.li,{className:\"infopill\",children:pill},i);}),handleOverflowRender(testList)]});}function IndicatorGroup(props){function assignColor(indicatorVal){if(indicatorVal){return'rgb(122, 209, 106)';}else{return'rgb(214, 79, 79)';}}return/*#__PURE__*/_jsxs(motion.div,{className:\"grouper\",id:props.widthType,children:[/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.selections)},children:\"Selections\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.materials)},children:\"Materials\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.osb)},children:\"OSB\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.planReview)},children:\"Fee\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.floorJoists)},children:\"Joists\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.ccrs)},children:\"CCR\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.lumber)},children:\"Lumber\"}),/*#__PURE__*/_jsx(motion.div,{className:\"indicator\",style:{backgroundColor:assignColor(props.trusses)},children:\"Trusses\"})]});}function PermitGroup(props){function yearChopper(date){if(date!==null&&date!==undefined){var chopped=date.slice(0,-5);// let choppedStr = chopped.toString()\nreturn chopped;}else{return'null';}}var utilNotifier=function utilNotifier(value){if(value!==null&&value!==undefined){return/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:yearChopper(value)});}else{return/*#__PURE__*/_jsx(motion.div,{className:\"relational-notification\",children:\"!\"});}};var permitNotifier=function permitNotifier(value){if(value!==null&&value!==undefined){return/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:yearChopper(value)});}else{return/*#__PURE__*/_jsx(motion.div,{className:\"relational-notification\",style:{backgroundColor:'rgb(235,190,65)'},children:\"-\"});}};return/*#__PURE__*/_jsxs(motion.div,{className:\"grouper\",id:\"permit-group\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container \",style:{width:'45%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"City\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:yearChopper(props.citySub)})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container \",style:{width:'55%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Utils sent\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),utilNotifier(props.utilitiesSent)]}),/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'45%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Permit\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:yearChopper(props.permit)})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'55%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Utils payed\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),utilNotifier(props.utilitiesPaid)]})]});}function SqftGroup(props){var sfAppender=function sfAppender(value){return\"\".concat(value,\" SF\");};return/*#__PURE__*/_jsxs(motion.div,{className:\"grouper\",id:\"sf-group\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Garage\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:sfAppender(props.garage)})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Covered\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:sfAppender(props.covered)})]})]});}function LotGroup(props){var parcelChecker=function parcelChecker(value){if(!value){return'null';}else{return value;}};return/*#__PURE__*/_jsxs(motion.div,{className:\"grouper\",id:\"lot-group\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Lot Size\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:props.lotSize})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Parcel\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-line\"}),/*#__PURE__*/_jsx(motion.div,{className:\"relational-value\",children:parcelChecker(props.parcel)})]})]});}function ProgressGroup(props){return/*#__PURE__*/_jsx(motion.div,{className:\"grouper\",id:\"progress-group\",children:/*#__PURE__*/_jsxs(motion.div,{className:\"relational-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(motion.div,{className:\"relational-key\",children:\"Schedule\"}),/*#__PURE__*/_jsx(motion.progress,{max:\"100\",value:props.progress}),/*#__PURE__*/_jsxs(motion.div,{className:\"progress-text\",children:[props.progress,\"%\"]})]})});}function CardList(_ref){var setIndex=_ref.setIndex,items=_ref.items,setHomes=_ref.setHomes;// async function handleChange() {\n//   setTest(true)\n//   if (test) {\n//     setItems(await testFetchFunc())\n//     // console.log(houseData)\n//   } else {\n//     setItems([])\n//   }\n// }\n// useEffect(() => {\n//   async function fetchData() {\n//     const req = await finalFetch()\n//     setHomes(req)\n//   }\n//   fetchData();\n// }, [setHomes])\nreturn/*#__PURE__*/_jsx(\"ul\",{className:\"cards-container\",children:items.map(function(contentItem,i){return contentItem.streetAddress?/*#__PURE__*/_jsxs(motion.li,{layout:true,className:\"card\",onClick:function onClick(){return setIndex(i);},layoutId:contentItem.id,children:[/*#__PURE__*/_jsxs(motion.div,{layout:true,layoutId:\"\".concat(contentItem.id,\"head\"),className:\"head\",children:[/*#__PURE__*/_jsx(TitleSection,{streetAddress:contentItem.streetAddress,color:contentItem.jobColor}),/*#__PURE__*/_jsx(PillSection,{expandClass:\"pill-container\",modelNumber:contentItem.modelNumber,subdivisionAndPhase:contentItem.subdivisionAndPhase,lotNumber:contentItem.lotNumber,city:contentItem.city,projectManager:contentItem.projectManager,listingAgent:contentItem.listingAgent,jobType:contentItem.jobType,company:contentItem.company})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"body\",layout:true,layoutId:\"\".concat(contentItem.id,\"body\"),children:[/*#__PURE__*/_jsx(IndicatorGroup,{widthType:\"indicator-group\",ccrs:contentItem.ccRs,floorJoists:contentItem.floorJoists,lumber:contentItem.orderLumber,materials:contentItem.orderMaterial,osb:contentItem.orderOsb,planReview:contentItem.planReview,selections:contentItem.selections,trusses:contentItem.trusses}),/*#__PURE__*/_jsx(PermitGroup,{permit:contentItem.permit,utilitiesPaid:contentItem.utilitiesPaid,utilitiesSent:contentItem.utilitiesSent,citySub:contentItem.citySub})]})]},i):console.log('');})});}function ExpandedCard(props){return/*#__PURE__*/_jsx(\"div\",{className:\"cards-container-unfolded\",onClick:props.onClick,children:/*#__PURE__*/_jsxs(motion.div,{layout:true,layoutId:props.card.id,className:\"card-expanded\",children:[/*#__PURE__*/_jsxs(motion.div,{layout:true,layoutId:\"\".concat(props.card.id,\"head\"),className:\"head\",children:[/*#__PURE__*/_jsx(TitleSection,{streetAddress:props.card.streetAddress,color:props.card.jobColor}),/*#__PURE__*/_jsx(PillSection,{expandClass:\"pill-container-expanded\",modelNumber:props.card.modelNumber,subdivisionAndPhase:props.card.subdivisionAndPhase,lotNumber:props.card.lotNumber,city:props.card.city,projectManager:props.card.projectManager,listingAgent:props.card.listingAgent,jobType:props.card.jobType,company:props.card.company})]}),/*#__PURE__*/_jsxs(motion.div,{layout:true,layoutId:\"\".concat(props.card.id,\"body\"),className:\"body\",style:{flexWrap:'wrap',alignContent:'flex-start'},children:[/*#__PURE__*/_jsx(IndicatorGroup,{widthType:\"indicator-group-expanded\",ccrs:props.card.ccRs,floorJoists:props.card.floorJoists,lumber:props.card.orderLumber,materials:props.card.orderMaterial,osb:props.card.orderOsb,planReview:props.card.planReview,selections:props.card.selections,trusses:props.card.trusses}),/*#__PURE__*/_jsx(ProgressGroup,{progress:props.card.progress}),/*#__PURE__*/_jsx(PermitGroup,{permit:props.card.permit,utilitiesPaid:props.card.utilitiesPaid,utilitiesSent:props.card.utilitiesSent,citySub:props.card.citySub}),/*#__PURE__*/_jsx(SqftGroup,{garage:props.card.garageSf,covered:props.card.coveredAreaSf}),/*#__PURE__*/_jsx(LotGroup,{lotSize:'null',parcel:props.card.parcelNumber})]})]})});}function TestButton(_ref2){var fetchData=_ref2.fetchData,anotherVal=_ref2.anotherVal;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),test=_useState6[0],setTest=_useState6[1];var _useState7=useState(\"This is rand test\"),_useState8=_slicedToArray(_useState7,2),testVal=_useState8[0],setTestVal=_useState8[1];function handleChange(){return _handleChange.apply(this,arguments);}function _handleChange(){_handleChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTest(!test);if(!test){_context.next=9;break;}_context.t0=setTestVal;_context.next=5;return testFunc();case 5:_context.t1=_context.sent;(0,_context.t0)(_context.t1);_context.next=10;break;case 9:setTestVal(\"This is rand test\");case 10:case\"end\":return _context.stop();}}},_callee);}));return _handleChange.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"test-button\",onClick:handleChange,children:\"This is a test\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"white\"},children:testVal}),/*#__PURE__*/_jsx(\"p\",{})]});}var testFunc=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var req,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/.netlify/functions/puller\",{method:'POST',body:JSON.stringify({url:'https://infinity-scraper-files.s3.us-east-2.amazonaws.com//tmp/houses.json'})});case 2:req=_context2.sent;_context2.next=5;return req.text();case 5:res=_context2.sent;return _context2.abrupt(\"return\",res);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function testFunc(){return _ref3.apply(this,arguments);};}();var testFetchFunc=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return finalFetch();case 2:res=_context3.sent;return _context3.abrupt(\"return\",res);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function testFetchFunc(){return _ref4.apply(this,arguments);};}();function App(){var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),index=_useState10[0],setIndex=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),homes=_useState12[0],setHomes=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),forceState=_useState14[0],setForceState=_useState14[1];var fetchData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var results,formResults;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/.netlify/functions/hello\");case 2:results=_context4.sent;formResults=JSON.parse(results.data.message);return _context4.abrupt(\"return\",formResults);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function fetchData(){return _ref5.apply(this,arguments);};}();// const fetchHouses = async () => {\n//   const houseResults = await axios.get(\"/.netlify/functions/puller\")\n//   let newHouseResults = JSON.stringify(houseResults)\n//   console.log(newHouseResults)\n// }\n// useEffect(() => {\n//   fetchHouses()\n// }, [])\n// useEffect(() => {\n//   async function grabData() {\n//     const json = await finalFetch()\n//     console.log(await finalFetch())\n//     setHomes(json)\n//   }\n//   grabData();\n// }, [setHomes]);\n// useEffect(() => {\n//   finalFetch()\n//     .then((houseData) => {\n//       setHomes(houseData)\n//       console.log(houseData)\n//     })\n// }, [setHomes]);\nuseEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var req;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return finalFetch();case 2:req=_context5.sent;setHomes(req);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchData.apply(this,arguments);}fetchData();},[setHomes]);function handleForce(){setForceState(!forceState);}// setTimeout(setHomes(finalFetch), 3000)\nreturn/*#__PURE__*/_jsxs(AnimateSharedLayout,{type:\"crossfade\",children:[homes.length>0?/*#__PURE__*/_jsx(CardList,{items:homes,setHomes:setHomes,setIndex:setIndex}):setTimeout(function(){return handleForce();},1000),/*#__PURE__*/_jsxs(AnimatePresence,{children:[index!==false&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"modal\",onClick:function onClick(){return setIndex(false);}},'modal'),index!==false&&/*#__PURE__*/_jsx(ExpandedCard,{index:index,card:homes[index],setIndex:setIndex,onClick:function onClick(){return setIndex(false);}},'expandedCard')]})]});}// const content = ['this is a test', 'this is another test', 'another testing thing', 'yet another testing thing', 'Lorem enim proident adipisicing sunt aute esse qui aliqua est tempor minim elit exercitation incididunt.', 'lorem12Sit sint excepteur in sint dolor mollit duis ea magna culpa.'];\nexport default App;","map":{"version":3,"sources":["C:/Users/daniel.lavrentiev/Desktop/screen-react-test/screen/src/App.js"],"names":["React","useEffect","useState","useCallback","useRef","motion","AnimateSharedLayout","AnimatePresence","finalFetch","axios","fetch","updater","TitleSection","props","hex","color","backgroundColor","streetAddress","PillSection","pillList","company","modelNumber","subdivisionAndPhase","lotNumber","city","projectManager","listingAgent","jobType","ref","isOverflowed","setIsOverflowed","testList","setTestList","filtered","filter","pill","index","length","current","clientWidth","scrollWidth","handleFilter","handleOverflowRender","list","overFlowVal","expandClass","map","i","IndicatorGroup","assignColor","indicatorVal","widthType","selections","materials","osb","planReview","floorJoists","ccrs","lumber","trusses","PermitGroup","yearChopper","date","undefined","chopped","slice","utilNotifier","value","permitNotifier","width","citySub","utilitiesSent","permit","utilitiesPaid","SqftGroup","sfAppender","garage","covered","LotGroup","parcelChecker","lotSize","parcel","ProgressGroup","progress","CardList","setIndex","items","setHomes","contentItem","id","jobColor","ccRs","orderLumber","orderMaterial","orderOsb","console","log","ExpandedCard","onClick","card","flexWrap","alignContent","garageSf","coveredAreaSf","parcelNumber","TestButton","fetchData","anotherVal","test","setTest","testVal","setTestVal","handleChange","testFunc","method","body","JSON","stringify","url","req","text","res","testFetchFunc","App","homes","forceState","setForceState","get","results","formResults","parse","data","message","handleForce","setTimeout","opacity"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\"\nimport './App.css';\n// import homes from './dataClean';\n// import houseData from './dataClean'\nimport finalFetch from './dataClean';\n// import finalFetch from './dataClean';\n// let homes = await import ('./dataClean.js');\nimport axios from 'axios'\nimport fetch from 'node-fetch';\n\n// let {PythonShell} = require('python-shell');\n\n\n// let options = {\n//   scriptPath: 'C:/Users/daniel.lavrentiev/Dropbox/Screen Project/Scraper',\n//   pythonOptions: ['-u']\n// }\n\n\n// function handleRefresh () {\n//   PythonShell.run('test_cleaner.py', options, function (err, results) {\n//     if (err) throw err;\n//     console.log('results: &j', results);\n//   });\n// }\n\n\n// function ResetButton (props) {\n//   return (\n//     <button className='refresh'>Refresh</button>\n//   )\n// }\n\n\n\nconst updater = () => {\n\n}\n\n\n\n\nfunction TitleSection(props) {\n\n  const hex = props.color\n\n  return (\n    <motion.div className='title-section'>\n      <motion.div className='color-square' style={{ backgroundColor: hex }} ></motion.div>\n      <motion.div className='title'>\n        {props.streetAddress}\n      </motion.div>\n    </motion.div>\n  );\n}\n\nfunction PillSection(props) { // This code looks like shit, but don't screw with it\n  const pillList = [props.company,\n  props.modelNumber,\n  props.subdivisionAndPhase,\n  props.lotNumber,\n  props.city,\n  props.projectManager,\n  props.listingAgent,\n  props.jobType]\n  const ref = useRef(); // Don't not use useRef, using literally anything else will break this component\n  const [isOverflowed, setIsOverflowed] = useState(false);\n  const [testList, setTestList] = useState(pillList);\n  let filtered = testList.filter((pill, index) => index < testList.length - 1);\n\n\n\n  useEffect(() => {\n    if (ref.current.clientWidth < ref.current.scrollWidth) {\n      setIsOverflowed(true)\n    } else {\n      setIsOverflowed(false)\n    }\n  }, [ref, isOverflowed])\n\n  useEffect(() =>\n    !isOverflowed ? handleFilter : setIsOverflowed(false),\n    [isOverflowed]// I have no idea why this works but don't touch it\n  )\n\n\n  const handleOverflowRender = (list) => {\n    let overFlowVal = pillList.length - list.length\n    if (list.length < pillList.length) {\n      return <motion.li className='infopill-expand'>+{overFlowVal}</motion.li>\n    } else {\n    }\n  }\n\n  const handleFilter = () => {\n    let filtered = testList.filter((pill, index) => index < testList.length - 1);\n    setTestList(filtered)\n  }\n\n\n  return (\n    <motion.ul ref={ref} className={props.expandClass}  >\n      {testList.map((pill, i) =>\n        <motion.li key={i} className='infopill'>{pill}</motion.li>\n      )}\n      {handleOverflowRender(testList)}\n    </motion.ul>\n  )\n}\n\n\n\nfunction IndicatorGroup(props) {\n\n  function assignColor(indicatorVal) {\n    if (indicatorVal) {\n      return 'rgb(122, 209, 106)'\n    } else {\n      return 'rgb(214, 79, 79)'\n    }\n  }\n\n  return (\n    <motion.div className='grouper' id={props.widthType}>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.selections) }}>\n        Selections\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.materials) }} >\n        Materials\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.osb) }} >\n        OSB\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.planReview) }} >\n        Fee\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.floorJoists) }} >\n        Joists\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.ccrs) }} >\n        CCR\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.lumber) }} >\n        Lumber\n      </motion.div>\n      <motion.div className='indicator' style={{ backgroundColor: assignColor(props.trusses) }} >\n        Trusses\n      </motion.div>\n    </motion.div>\n  );\n}\n\nfunction PermitGroup(props) {\n\n  function yearChopper(date) {\n    if (date !== null && date !== undefined) {\n      let chopped = (date.slice(0, -5))\n      // let choppedStr = chopped.toString()\n      return chopped\n    } else {\n      return 'null'\n    }\n  }\n\n  const utilNotifier = (value) => {\n    if (value !== null && value !== undefined) {\n      return <motion.div className='relational-value'>{yearChopper(value)}</motion.div>\n    } else {\n      return <motion.div className='relational-notification'>!</motion.div>\n    }\n  }\n  const permitNotifier = (value) => {\n    if (value !== null && value !== undefined) {\n      return <motion.div className='relational-value'>{yearChopper(value)}</motion.div>\n    } else {\n      return <motion.div className='relational-notification' style={{ backgroundColor: 'rgb(235,190,65)' }}>-</motion.div>\n    }\n  }\n\n  return (\n    <motion.div className='grouper' id='permit-group'>\n      <motion.div className='relational-container ' style={{ width: '45%' }}>\n        <motion.div className='relational-key'>City</motion.div>\n        <motion.div className='relational-line'></motion.div>\n        <motion.div className='relational-value'>{yearChopper(props.citySub)}</motion.div>\n      </motion.div>\n      <motion.div className='relational-container ' style={{ width: '55%' }}>\n        <motion.div className='relational-key'>Utils sent</motion.div>\n        <motion.div className='relational-line'></motion.div>\n        {utilNotifier(props.utilitiesSent)}\n      </motion.div>\n      <motion.div className='relational-container' style={{ width: '45%' }}>\n        <motion.div className='relational-key'>Permit</motion.div>\n        <motion.div className='relational-line'></motion.div>\n        <motion.div className='relational-value'>{yearChopper(props.permit)}</motion.div>\n\n      </motion.div>\n      <motion.div className='relational-container' style={{ width: '55%' }}>\n        <motion.div className='relational-key'>Utils payed</motion.div>\n        <motion.div className='relational-line'></motion.div>\n        {utilNotifier(props.utilitiesPaid)}\n      </motion.div>\n    </motion.div>\n  )\n}\n\n\nfunction SqftGroup(props) {\n  const sfAppender = (value) => {\n    return `${value} SF`\n  }\n\n  return (\n    <motion.div className='grouper' id='sf-group' >\n      <motion.div className='relational-container' style={{ width: '100%' }} >\n        <motion.div className='relational-key' >Garage</motion.div>\n        <motion.div className='relational-line' ></motion.div>\n        <motion.div className='relational-value'>{sfAppender(props.garage)}</motion.div>\n      </motion.div>\n      <motion.div className='relational-container' style={{ width: '100%' }} >\n        <motion.div className='relational-key' >Covered</motion.div>\n        <motion.div className='relational-line' ></motion.div>\n        <motion.div className='relational-value'>{sfAppender(props.covered)}</motion.div>\n      </motion.div>\n    </motion.div>\n  )\n}\n\n\nfunction LotGroup(props) {\n\n  const parcelChecker = (value) => {\n    if (!value) {\n      return 'null'\n    } else {\n      return value\n    }\n  }\n\n  return (\n    <motion.div className='grouper' id='lot-group' >\n      <motion.div className='relational-container' style={{ width: '100%' }} >\n        <motion.div className='relational-key' >Lot Size</motion.div>\n        <motion.div className='relational-line' ></motion.div>\n        <motion.div className='relational-value'>{props.lotSize}</motion.div>\n      </motion.div>\n      <motion.div className='relational-container' style={{ width: '100%' }} >\n        <motion.div className='relational-key' >Parcel</motion.div>\n        <motion.div className='relational-line' ></motion.div>\n        <motion.div className='relational-value'>{parcelChecker(props.parcel)}</motion.div>\n      </motion.div>\n    </motion.div>\n  )\n}\n\nfunction ProgressGroup(props) {\n  return (\n    <motion.div className='grouper' id='progress-group'>\n      <motion.div className='relational-container' style={{ width: '100%' }}>\n        <motion.div className='relational-key' >Schedule</motion.div>\n        <motion.progress max='100' value={props.progress} ></motion.progress>\n        <motion.div className='progress-text' >{props.progress}%</motion.div>\n      </motion.div>\n    </motion.div>\n  )\n}\n\nfunction CardList({setIndex, items, setHomes }) {\n\n\n  // async function handleChange() {\n  //   setTest(true)\n  //   if (test) {\n  //     setItems(await testFetchFunc())\n  //     // console.log(houseData)\n  //   } else {\n  //     setItems([])\n  //   }\n  // }\n\n\n  // useEffect(() => {\n  //   async function fetchData() {\n  //     const req = await finalFetch()\n  //     setHomes(req)\n  //   }\n  //   fetchData();\n  // }, [setHomes])\n\n\n\n\n  return (\n    <ul className='cards-container'>\n      {items.map((contentItem, i) => (\n        contentItem.streetAddress ?\n          <motion.li layout\n            className='card'\n            key={i}\n            onClick={() => setIndex(i)}\n            layoutId={contentItem.id}\n          >\n\n            <motion.div layout layoutId={`${contentItem.id}head`} className='head'>\n              <TitleSection streetAddress={contentItem.streetAddress} color={contentItem.jobColor} />\n              <PillSection expandClass='pill-container' modelNumber={contentItem.modelNumber} subdivisionAndPhase={contentItem.subdivisionAndPhase} lotNumber={contentItem.lotNumber} city={contentItem.city} projectManager={contentItem.projectManager} listingAgent={contentItem.listingAgent} jobType={contentItem.jobType} company={contentItem.company} />\n            </motion.div>\n\n\n            <motion.div className='body' layout layoutId={`${contentItem.id}body`} >\n              <IndicatorGroup widthType='indicator-group' ccrs={contentItem.ccRs} floorJoists={contentItem.floorJoists} lumber={contentItem.orderLumber} materials={contentItem.orderMaterial} osb={contentItem.orderOsb} planReview={contentItem.planReview} selections={contentItem.selections} trusses={contentItem.trusses} />\n              <PermitGroup permit={contentItem.permit} utilitiesPaid={contentItem.utilitiesPaid} utilitiesSent={contentItem.utilitiesSent} citySub={contentItem.citySub} />\n            </motion.div>\n          </motion.li> : console.log('')\n      ))}\n    </ul>\n  )\n}\n\nfunction ExpandedCard(props) {\n  return (\n    <div className='cards-container-unfolded' onClick={props.onClick}>\n      <motion.div layout\n        layoutId={props.card.id}\n        className='card-expanded'\n      >\n\n        <motion.div layout layoutId={`${props.card.id}head`} className='head'>\n          <TitleSection streetAddress={props.card.streetAddress} color={props.card.jobColor} />\n          <PillSection expandClass='pill-container-expanded' modelNumber={props.card.modelNumber} subdivisionAndPhase={props.card.subdivisionAndPhase} lotNumber={props.card.lotNumber} city={props.card.city} projectManager={props.card.projectManager} listingAgent={props.card.listingAgent} jobType={props.card.jobType} company={props.card.company} />\n        </motion.div>\n\n        <motion.div layout layoutId={`${props.card.id}body`} className='body' style={{ flexWrap: 'wrap', alignContent: 'flex-start' }}>\n          <IndicatorGroup widthType='indicator-group-expanded' ccrs={props.card.ccRs} floorJoists={props.card.floorJoists} lumber={props.card.orderLumber} materials={props.card.orderMaterial} osb={props.card.orderOsb} planReview={props.card.planReview} selections={props.card.selections} trusses={props.card.trusses} />\n          <ProgressGroup progress={props.card.progress} />\n          <PermitGroup permit={props.card.permit} utilitiesPaid={props.card.utilitiesPaid} utilitiesSent={props.card.utilitiesSent} citySub={props.card.citySub} />\n          <SqftGroup garage={props.card.garageSf} covered={props.card.coveredAreaSf} />\n          <LotGroup lotSize={'null'} parcel={props.card.parcelNumber} />\n        </motion.div>\n\n      </motion.div>\n    </div>\n  )\n}\n\n\n\n\nfunction TestButton({ fetchData, anotherVal }) {\n\n\n  const [test, setTest] = useState(false);\n  const [testVal, setTestVal] = useState(\"This is rand test\")\n\n\n\n  async function handleChange() {\n    setTest(!test)\n    if (test) {\n      setTestVal(await testFunc())\n      // console.log(houseData)\n    } else {\n      setTestVal(\"This is rand test\")\n    }\n  }\n\n  return (\n    <div>\n      <button className='test-button' onClick={handleChange}>This is a test</button>\n      <p style={{ color: \"white\" }}>{testVal}</p>\n      <p></p>\n    </div>\n\n  );\n}\n\nconst testFunc = async () => {\n  const req = await fetch(\"/.netlify/functions/puller\", {\n    method:'POST',\n    body: JSON.stringify({url: 'https://infinity-scraper-files.s3.us-east-2.amazonaws.com//tmp/houses.json'})\n  })\n  const res = await req.text()\n  return res\n}\n\nconst testFetchFunc = async () => {\n  const res = await finalFetch()\n  return res\n}\n\nfunction App() {\n\n  const [index, setIndex] = useState(false);\n  const [homes, setHomes] = useState([]);\n  const [forceState, setForceState] = useState(false)\n\n  const fetchData = async () => {\n    const results = await axios.get(\"/.netlify/functions/hello\")\n    let formResults = JSON.parse(results.data.message)\n    return formResults\n\n  }\n\n  // const fetchHouses = async () => {\n  //   const houseResults = await axios.get(\"/.netlify/functions/puller\")\n  //   let newHouseResults = JSON.stringify(houseResults)\n  //   console.log(newHouseResults)\n  // }\n\n  // useEffect(() => {\n  //   fetchHouses()\n  // }, [])\n\n  // useEffect(() => {\n  //   async function grabData() {\n  //     const json = await finalFetch()\n  //     console.log(await finalFetch())\n  //     setHomes(json)\n  //   }\n  //   grabData();\n  // }, [setHomes]);\n\n  \n  \n  // useEffect(() => {\n  //   finalFetch()\n  //     .then((houseData) => {\n  //       setHomes(houseData)\n  //       console.log(houseData)\n  //     })\n  // }, [setHomes]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const req = await finalFetch()\n      setHomes(req)\n    }\n    fetchData();\n  }, [setHomes])\n\n\n  function handleForce() {\n    setForceState(!forceState)\n  }\n\n  // setTimeout(setHomes(finalFetch), 3000)\n\n\n\n  return (\n    <AnimateSharedLayout type=\"crossfade\">\n      {/* <TestButton fetchData={fetchData} anotherVal={homes}></TestButton> */}\n      {/* <button onClick={handleForce}></button> */}\n      {homes.length > 0 ? <CardList items={homes} setHomes={setHomes} setIndex={setIndex} /> : setTimeout(() => handleForce(), 1000)}\n      <AnimatePresence>\n        {index !== false && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            key='modal'\n            className='modal'\n            onClick={() => setIndex(false)}\n          >\n          </motion.div>\n        )}\n\n        {index !== false && (\n          <ExpandedCard\n            key='expandedCard'\n            index={index}\n            card={homes[index]}\n            setIndex={setIndex}\n            onClick={() => setIndex(false)}\n          >\n          </ExpandedCard>\n        )}\n      </AnimatePresence>\n    </AnimateSharedLayout>\n\n  );\n}\n\n\n// const content = ['this is a test', 'this is another test', 'another testing thing', 'yet another testing thing', 'Lorem enim proident adipisicing sunt aute esse qui aliqua est tempor minim elit exercitation incididunt.', 'lorem12Sit sint excepteur in sint dolor mollit duis ea magna culpa.'];\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}